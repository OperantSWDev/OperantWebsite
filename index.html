
<!DOCTYPE html>
<html>
<head>
	<title>Operant Solar FleetLink</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
  <link rel="stylesheet" href="css/styleMobile.css" type="text/css"></link>

  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>

  <script>
  <!-- http://stackoverflow.com/questions/32453806/uncaught-securityerror-failed-to-execute-replacestate-on-history-cannot-be-->
    $(document).bind('mobileinit',function(){
        $.mobile.changePage.defaults.changeHash = false;
        $.mobile.hashListeningEnabled = false;
        $.mobile.pushStateEnabled = false;
    });
  </script>

  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://maps.google.com/maps/api/js"></script>
  <script src="js/applicationMobile.js"></script>

</head>

<body>

<div data-role="page" id="pageone" style="margin-left:5%; margin-right:5%; width:90%" data-theme="b">
  <div data-role="panel" id="dataPanel"  data-display="overlay">
    <h2>Settings</h2>

          <div class="dataPanelLabel" >
            <label id="dataModelLabel" ></label>
            <select id="dataModel" style="font-size:1.4em;" onchange="if(this.selectedIndex) showHideControls();" >
            <option value="x" disabled="disabled" ></option>
            <option value="m">Modbus</option>
            <option value="f" >Service</option>
            </select>
          </div>


          <div class="panelContainer" id="fleetlinkPanelContainer" style= "visibility:hidden">
              <div class="dataPanelLabel" >
                <label id="fleetLinkCommandLabel"></label>
                <select id="fleetLinkCommand" style="font-size:1.4em;">
                <option value="rangeTest" >Range Test</option>
                </select>
              </div>
          </div>

        <div class="panelContainer" id="modbusPanelContainer">

          <div class="dataPanelLabel">
            <label id="modbusIDLabel">Modbus ID</label>
            <input type="text"  id='modbusID' value= "100" style="border: 1px solid darkgray"></input>
          </div>

          <div class="dataPanelLabel">
            <label id="modbusFCLabel">Modbus FC</label>
            <select id="modbusFC" style="font-size:1.4em;">
            <option value="03" selected="selected">03</option>
            </select>
          </div>

          <div class="dataPanelLabel">
            <label id="baseRegisterLabel" >Base Register</label>
            <input type="text"  id='baseRegister' value= "39999" style="border: 1px solid darkgray"></input>
          </div>

          <div class="dataPanelLabel">
            <label id="sunspecRegisterLabel">SunSpec Reg</label>
            <input type="text"  id='sunspecRegister' value= "5" style="border: 1px solid darkgray"></input>
          </div>

          <div class="dataPanelLabel">
            <label id="modbusSizeLabel"># Registers</label>
            <select id="modbusSize" style="font-size:1.4em;">
            <option value="1" >1</option>
            <option value="2" >2</option>
            <option value="4" selected="selected">4</option>
          	<!-- <option value="8" >8</option>   disbaled due to problems with high power TX-->
            </select>
          </div>

      </div>



  </div>






  <p>

    <div data-role="main" class="ui-content" >
        <a href="#dataPanel" class="ui-btn ui-btn-inline ui-corner-all ui-shadow"
        style="width:20%;float:left;margin:auto;margin-bottom:3%;margin-left:25%" >< Open Data Settings</a>

				<div data-role="header">
					<img  src="img/operantLogo.png"  style="float:right; margin-right:0%"  height="60px" width="245px">
				</div>
        <p>

      <div data-role="main" class="container"  >
            <label style="float:left; margin:18px; width:9em;  font-size: 1.2em">Select Gateway</label>
            <img  src="img/gatewayIcon2.png"  style="float:left; margin:10px; margin-right:15%; margin-bottom: 0%" height="50px" width="50px">
            <select   id="selectedAccessPoint"   data-native-menu="false" >
              <option value="Unit2" selected="selected">WHITE</option>
              <option value="Unit3">ORANGE</option>
            </select>
          </div>
    <p>

    <div data-role="main" class="container" >
          <label style="float:left; margin:18px; width:9em;  font-size: 1.2em">Select Target</label>
          <img  src="img/targetIcon3.png"  style="float:left; margin:10px; margin-right:15%" height="50px" width="50px">
          <select  id="selectedUnit"   data-native-menu="false"  >
              <option value="Unit2">WHITE</option>
              <option value="Unit3" selected="selected">ORANGE</option>
          </select>

						<p>

					<div class= 'container'
								id="stringDataRepresentation" style="margin-bottom:4px">
									<label>--</label>
					</div>

					<div class= 'container'
								id="decimalDataValue" >
								<label>--</label>
					</div>

        </div>


    <p>
      <button id="sendInterestPacket"
      onclick= "sendInterestPacket()"
      textalign= "center"  style="width:35%;margin:auto; margin-left: 45%; margin-bottom:3%; margin-top:3%; border: 2px solid gray;">
      GO
      </button>
      <p>

        <p>


      <div data-role="collapsible" style="margin-left:25%" >
        <h1>more...</h1>
        <div class= 'container'
            id="hexadecimalDataValue" >
        </div>
        <p>
        <div class= 'container' id= 'completedInterestPacket' style="float:center;">
        </div>
        <p>
        <div class= 'container'
            id="returnedDataPacket">
        </div>

      </div>

    </div>
</body>
</html>
